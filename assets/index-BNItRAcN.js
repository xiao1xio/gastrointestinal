var W=Object.defineProperty;var C=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var T=(t,r,n)=>r in t?W(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,w=(t,r)=>{for(var n in r||(r={}))H.call(r,n)&&T(t,n,r[n]);if(C)for(var n of C(r))J.call(r,n)&&T(t,n,r[n]);return t};var R=(t,r,n)=>new Promise((g,d)=>{var f=s=>{try{p(n.next(s))}catch(m){d(m)}},i=s=>{try{p(n.throw(s))}catch(m){d(m)}},p=s=>s.done?g(s.value):Promise.resolve(s.value).then(f,i);p((n=n.apply(t,r)).next())});import{B as Q}from"./Table-DOhLsWZf.js";import{T as X}from"./TableAction-DjARIrkc.js";import{_ as Y}from"./BasicForm-BKqInxHP.js";import{u as Z}from"./useForm-8o9gVmdv.js";import{g as ee}from"./list-BDdDP5Xh.js";import{a2 as b,aM as oe,aV as S,d as te,c as le,r as _,a as U,o as ne,y as ae,g as l,w as a,i as c,j as h,a5 as se,l as re,t as ue,N as ie,B as pe,m as de,aS as me,n as ce,S as fe,a3 as _e}from"./index-DxMZejvi.js";import{P as be}from"./PlusOutlined-DH-IsLQU.js";import"./vuedraggable.umd-DZPXDNVK.js";import"./useDesignSetting-H7UYKjl9.js";import"./SettingOutlined-DgMHfc0d.js";import"./propTypes-CPXDP53q.js";import"./FormOutlined-Cmu5kHGF.js";import"./ReloadOutlined-BNdEzWH-.js";import"./componentSetting-CQq0JJwW.js";import"./index-gCZ6ab40.js";import"./DownOutlined-BTakhg3t.js";import"./UpOutlined-Bzrj6O9r.js";const ge={male:"男",female:"女",unknown:"未知"},ve={close:"已取消",refuse:"已拒绝",pass:"已通过"},ke=[{title:"id",key:"id"},{title:"名称",key:"name"},{title:"头像",key:"avatar",render(t){return b(oe,{size:50,src:t.avatar})}},{title:"性别",key:"sex",render(t){return b(S,{type:t.sex==="male"?"info":"error"},{default:()=>ge[t.sex]})}},{title:"邮箱",key:"email",width:220},{title:"城市",key:"city"},{title:"状态",key:"status",render(t){return b(S,{type:t.status==="close"?"default":t.status==="refuse"?"error":"success"},{default:()=>ve[t.status]})}},{title:"创建时间",key:"createDate"}],Fe=te({__name:"index",setup(t){const r={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},n=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}],g=le(),d=_(null),f=_(),i=_(!1),p=_(!1),s=U({name:"",address:"",date:null}),m=U({width:220,title:"操作",key:"action",fixed:"right",render(e){return b(X,{style:"button",actions:[{label:"删除",onClick:F.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:M.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:o=>{window.$message.info(`您点击了，${o} 按钮`)}})}}),[B,{getFieldsValue:V}]=Z({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:n});function $(){i.value=!0}const D=e=>R(this,null,function*(){return yield ee(w(w({},V()),e))});function q(e){console.log(e)}function x(){f.value.reload()}function I(e){e.preventDefault(),p.value=!0,d.value.validate(o=>{o?window.$message.error("请填写完整信息"):(window.$message.success("新建成功"),setTimeout(()=>{i.value=!1,x()})),p.value=!1})}function M(e){console.log("点击了编辑",e),g.push({name:"basic-info",params:{id:e.id}})}function F(e){console.log("点击了删除",e),window.$message.info("点击了删除")}function A(e){console.log(e),x()}function j(e){console.log(e)}return(e,o)=>{const v=re,N=ue,E=ie,k=pe,y=de,L=me,z=ce,G=fe,K=_e;return ne(),ae(se,null,[l(N,{bordered:!1},{default:a(()=>[l(c(Y),{onRegister:c(B),onSubmit:A,onReset:j},{statusSlot:a(({model:u,field:P})=>[l(v,{value:u[P],"onUpdate:value":O=>u[P]=O},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"])]),_:1}),l(N,{bordered:!1,class:"mt-3"},{default:a(()=>[l(c(Q),{columns:c(ke),request:D,"row-key":u=>u.id,ref_key:"actionRef",ref:f,actionColumn:m,"onUpdate:checkedRowKeys":q,"scroll-x":1090,striped:!0},{tableTitle:a(()=>[l(k,{type:"primary",onClick:$},{icon:a(()=>[l(E,null,{default:a(()=>[l(c(be))]),_:1})]),default:a(()=>[o[5]||(o[5]=h(" 新建 "))]),_:1})]),toolbar:a(()=>o[6]||(o[6]=[])),_:1},8,["columns","row-key","actionColumn"]),l(K,{show:i.value,"onUpdate:show":o[4]||(o[4]=u=>i.value=u),"show-icon":!1,preset:"dialog",title:"新建"},{action:a(()=>[l(G,null,{default:a(()=>[l(k,{onClick:o[3]||(o[3]=()=>i.value=!1)},{default:a(()=>o[7]||(o[7]=[h("取消")])),_:1}),l(k,{type:"info",loading:p.value,onClick:I},{default:a(()=>o[8]||(o[8]=[h("确定")])),_:1},8,["loading"])]),_:1})]),default:a(()=>[l(z,{model:s,rules:r,ref_key:"formRef",ref:d,"label-placement":"left","label-width":80,class:"py-4"},{default:a(()=>[l(y,{label:"名称",path:"name"},{default:a(()=>[l(v,{placeholder:"请输入名称",value:s.name,"onUpdate:value":o[0]||(o[0]=u=>s.name=u)},null,8,["value"])]),_:1}),l(y,{label:"地址",path:"address"},{default:a(()=>[l(v,{type:"textarea",placeholder:"请输入地址",value:s.address,"onUpdate:value":o[1]||(o[1]=u=>s.address=u)},null,8,["value"])]),_:1}),l(y,{label:"日期",path:"date"},{default:a(()=>[l(L,{type:"datetime",placeholder:"请选择日期",value:s.date,"onUpdate:value":o[2]||(o[2]=u=>s.date=u)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})],64)}}});export{Fe as default};
