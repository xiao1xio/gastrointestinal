var b=(d,g,a)=>new Promise((y,r)=>{var _=n=>{try{s(a.next(n))}catch(o){r(o)}},c=n=>{try{s(a.throw(n))}catch(o){r(o)}},s=n=>n.done?y(n.value):Promise.resolve(n.value).then(_,c);s((a=a.apply(d,g)).next())});import{d as D,r as f,al as T,o as U,f as q,w as t,g as l,h as V,j as v,Q as z,l as O,B as R,_ as j,n as A,T as K,K as L}from"./index-DxMZejvi.js";import{_ as Q}from"./FormItemGridItem-v1qHrTly.js";const G=D({__name:"addScale",props:{scaleTypeOptions:Array,visible:Boolean},emits:["update:visible","submit","cancel"],setup(d,{emit:g}){const a=f({scaleType:null,scaleName:"",scaleDesc:""}),y={scaleType:{required:!0,message:"请选择量表类型",trigger:["blur","change"]},scaleName:{required:!0,message:"请输入量表名称",trigger:["blur","input"]},scaleDesc:{required:!0,message:"请输入量表简介",trigger:["blur","input"]}},r=f(null),_=f(!1),c=d,s=g,n=f(c.visible);T(()=>c.visible,u=>{n.value=u}),T(n,u=>{s("update:visible",u)});const o=()=>{n.value=!1,s("update:visible",!1),s("cancel")},C=()=>b(this,null,function*(){var u;try{yield(u=r.value)==null?void 0:u.validate(),_.value=!0,setTimeout(()=>{_.value=!1,n.value=!1,s("submit",a.value)},1e3)}catch(e){console.error("验证失败:",e)}});return(u,e)=>{const k=z,i=Q,w=O,m=R,N=j,x=A,B=K,h=L;return U(),q(h,{show:n.value,"onUpdate:show":e[3]||(e[3]=p=>n.value=p),width:"100%"},{default:t(()=>[l(B,{closable:"",title:"新增量表"},{default:t(()=>[e[8]||(e[8]=V("span",{style:{"font-size":"18px","font-weight":"bold"}},"量表信息",-1)),l(x,{ref_key:"formRef",ref:r,model:a.value,rules:y,"label-placement":"top",size:"medium"},{default:t(()=>[l(N,{cols:21,"x-gap":22},{default:t(()=>[l(i,{span:2},{default:t(()=>[l(k,{value:a.value.scaleType,"onUpdate:value":e[0]||(e[0]=p=>a.value.scaleType=p),options:d.scaleTypeOptions,placeholder:"量表类型",style:{width:"100%"}},null,8,["value","options"])]),_:1}),l(i,{span:3},{default:t(()=>[l(w,{value:a.value.scaleName,"onUpdate:value":e[1]||(e[1]=p=>a.value.scaleName=p),placeholder:"请输入量表名称",style:{width:"100%"}},null,8,["value"])]),_:1}),l(i,{span:8},{default:t(()=>[l(w,{value:a.value.scaleDesc,"onUpdate:value":e[2]||(e[2]=p=>a.value.scaleDesc=p),placeholder:"请输入量表简介",style:{width:"100%"}},null,8,["value"])]),_:1}),l(i,{span:2},{default:t(()=>[l(m,{onClick:o,style:{width:"100%"}},{default:t(()=>e[4]||(e[4]=[v("取消")])),_:1})]),_:1}),l(i,{span:2},{default:t(()=>[l(m,{type:"primary",loading:_.value,onClick:C,style:{width:"100%"}},{default:t(()=>e[5]||(e[5]=[v("确认")])),_:1},8,["loading"])]),_:1}),l(i,{span:2},{default:t(()=>[l(m,{onClick:o,style:{width:"100%"}},{default:t(()=>e[6]||(e[6]=[v("取消")])),_:1})]),_:1}),l(i,{span:2},{default:t(()=>[l(m,{onClick:o,style:{width:"100%"}},{default:t(()=>e[7]||(e[7]=[v("取消")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])}}});export{G as _};
