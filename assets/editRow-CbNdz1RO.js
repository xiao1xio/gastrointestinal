var E=Object.defineProperty;var y=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var _=(t,a,n)=>a in t?E(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,d=(t,a)=>{for(var n in a||(a={}))T.call(a,n)&&_(t,n,a[n]);if(y)for(var n of y(a))N.call(a,n)&&_(t,n,a[n]);return t};var k=(t,a,n)=>new Promise((p,r)=>{var f=o=>{try{l(n.next(o))}catch(u){r(u)}},m=o=>{try{l(n.throw(o))}catch(u){r(u)}},l=o=>o.done?p(o.value):Promise.resolve(o.value).then(f,m);l((n=n.apply(t,a)).next())});import{B as A}from"./Table-DOhLsWZf.js";import{T as B}from"./TableAction-DjARIrkc.js";import{g as M}from"./list-BDdDP5Xh.js";import{a2 as c,aM as S,aV as b,d as V,r as w,a as C,o as z,f as D,w as K,g as q,i as h,t as I}from"./index-DxMZejvi.js";import"./vuedraggable.umd-DZPXDNVK.js";import"./useDesignSetting-H7UYKjl9.js";import"./SettingOutlined-DgMHfc0d.js";import"./propTypes-CPXDP53q.js";import"./FormOutlined-Cmu5kHGF.js";import"./ReloadOutlined-BNdEzWH-.js";import"./componentSetting-CQq0JJwW.js";import"./index-gCZ6ab40.js";import"./DownOutlined-BTakhg3t.js";const L={male:"男",female:"女",unknown:"未知"},P={close:"已取消",refuse:"已拒绝",pass:"已通过"},U=[{title:"id",key:"id"},{title:"名称",key:"name",editComponent:"NInput",editRow:!0,editRule:!0,edit:!0},{title:"头像",key:"avatar",render(t){return c(S,{size:50,src:t.avatar})}},{title:"性别",key:"sex",render(t){return c(b,{type:t.sex==="male"?"info":"error"},{default:()=>L[t.sex]})}},{title:"邮箱",key:"email",width:220},{title:"城市",key:"city",editComponent:"NSelect",editComponentProps:{options:[{label:"深圳市",value:1},{label:"广州市",value:2}]},editRow:!0,edit:!0,width:220},{title:"状态",key:"status",render(t){return c(b,{type:t.status==="close"?"default":t.status==="refuse"?"error":"success"},{default:()=>P[t.status]})}},{title:"创建时间",key:"createDate"}],ne=V({__name:"editRow",setup(t){const a=w(),n=w(""),p=C({pageSize:5,name:"NaiveAdmin"}),r=C({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(e){return c(B,{style:"button",actions:u(e)})}});function f(e){var i;n.value=e.key,(i=e.onEdit)==null||i.call(e,!0)}function m(e){var i;n.value="",(i=e.onEdit)==null||i.call(e,!1,!1)}function l({column:e,value:i,record:s}){e.key==="id"&&(s.editValueRefs.name4.value=`${i}`),console.log(e,i,s)}function o(e){return k(this,null,function*(){var s;(yield(s=e.onEdit)==null?void 0:s.call(e,!1,!0))&&(n.value="")})}function u(e){return e.editable?[{label:"保存",onClick:o.bind(null,e)},{label:"取消",onClick:m.bind(null,e)}]:[{label:"编辑",onClick:f.bind(null,e)}]}const g=e=>k(this,null,function*(){return yield M(d(d({},p),e))});function v(e){console.log(e)}function R({value:e}){console.log(e)}return(e,i)=>{const s=I;return z(),D(s,{bordered:!1,class:"proCard"},{default:K(()=>[q(h(A),{title:"表格列表",titleTooltip:"这是一个提示",columns:h(U),request:g,"row-key":x=>x.id,ref_key:"actionRef",ref:a,actionColumn:r,onEditEnd:R,onEditChange:l,"onUpdate:checkedRowKeys":v,"scroll-x":1590},null,8,["columns","row-key","actionColumn"])]),_:1})}}});export{ne as default};
