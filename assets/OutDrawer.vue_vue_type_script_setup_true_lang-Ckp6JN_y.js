var w=(i,f,t)=>new Promise((m,p)=>{var b=u=>{try{o(t.next(u))}catch(d){p(d)}},_=u=>{try{o(t.throw(u))}catch(d){p(d)}},o=u=>u.done?m(u.value):Promise.resolve(u.value).then(b,_);o((t=t.apply(i,f)).next())});import{d as x,r as v,al as U,o as B,f as A,w as a,g as n,j as q,l as T,m as j,Q as D,k as V,_ as K,n as L,B as S,S as $,T as z,K as E}from"./index-DxMZejvi.js";const H=x({__name:"OutDrawer",props:{typeOptions:Array,specificationOptions:Array,reasonOptions:Array,visible:Boolean},emits:["update:visible","submit","cancel"],setup(i,{emit:f}){const t=v({batchNumber:"",type:null,name:"",manufacturer:"",outboundQuantity:"",specification:null,outboundReason:null}),m=v(null),p=v(!1),b={batchNumber:{required:!0,message:"请输入制剂批号",trigger:"blur"},type:{required:!0,message:"请选择制剂类型",trigger:"change",type:"number"},name:{required:!0,message:"请输入制剂名称",trigger:"blur"},manufacturer:{required:!0,message:"请输入厂家",trigger:"blur"},outboundQuantity:{required:!0,message:"请输入出库总量",trigger:"blur"},specification:{required:!0,message:"请选择规格",trigger:"change",type:"number"},outboundReason:{required:!0,message:"请选择出库原因",trigger:"change",type:"number"}},_=i,o=f,u=v(_.visible);U(()=>_.visible,s=>{u.value=s}),U(u,s=>{o("update:visible",s)});const d=()=>{u.value=!1,o("update:visible",!1),o("cancel")},N=()=>w(this,null,function*(){var s;(s=m.value)==null||s.validate(e=>{e?console.error("表单验证失败:",e):(p.value=!0,setTimeout(()=>{p.value=!1,u.value=!1,o("submit",t.value)},1e3))})});return(s,e)=>{const c=T,r=j,g=D,y=V,O=K,R=L,h=S,k=$,C=z,Q=E;return B(),A(Q,{show:u.value,"onUpdate:show":e[7]||(e[7]=l=>u.value=l),width:"55%"},{default:a(()=>[n(C,{title:"制剂出库",closable:""},{footer:a(()=>[n(k,{justify:"end"},{default:a(()=>[n(h,{onClick:d},{default:a(()=>e[8]||(e[8]=[q("取消")])),_:1}),n(h,{type:"primary",onClick:N,loading:p.value},{default:a(()=>e[9]||(e[9]=[q("确认")])),_:1},8,["loading"])]),_:1})]),default:a(()=>[n(R,{ref_key:"formRef",ref:m,model:t.value,rules:b,"label-placement":"top","label-width":"auto",class:"vertical-label-form"},{default:a(()=>[n(r,{label:"制剂批号",path:"batchNumber"},{default:a(()=>[n(c,{value:t.value.batchNumber,"onUpdate:value":e[0]||(e[0]=l=>t.value.batchNumber=l),placeholder:"请输入制剂批号"},null,8,["value"])]),_:1}),n(r,{label:"制剂类型",path:"type"},{default:a(()=>[n(g,{value:t.value.type,"onUpdate:value":e[1]||(e[1]=l=>t.value.type=l),options:i.typeOptions,placeholder:"请选择制剂类型"},null,8,["value","options"])]),_:1}),n(r,{label:"制剂名称",path:"name"},{default:a(()=>[n(c,{value:t.value.name,"onUpdate:value":e[2]||(e[2]=l=>t.value.name=l),placeholder:"请输入制剂名称"},null,8,["value"])]),_:1}),n(r,{label:"厂家",path:"manufacturer"},{default:a(()=>[n(c,{value:t.value.manufacturer,"onUpdate:value":e[3]||(e[3]=l=>t.value.manufacturer=l),placeholder:"请输入厂家"},null,8,["value"])]),_:1}),n(O,{cols:12,"x-gap":"12"},{default:a(()=>[n(y,{span:9},{default:a(()=>[n(r,{label:"出库总量",path:"outboundQuantity"},{default:a(()=>[n(c,{value:t.value.outboundQuantity,"onUpdate:value":e[4]||(e[4]=l=>t.value.outboundQuantity=l),placeholder:"请输入出库总量"},null,8,["value"])]),_:1})]),_:1}),n(y,{span:3},{default:a(()=>[n(r,{path:"specification"},{default:a(()=>[n(g,{value:t.value.specification,"onUpdate:value":e[5]||(e[5]=l=>t.value.specification=l),options:i.specificationOptions,placeholder:"规格"},null,8,["value","options"])]),_:1})]),_:1})]),_:1}),n(r,{label:"出库原因",path:"outboundReason"},{default:a(()=>[n(g,{value:t.value.outboundReason,"onUpdate:value":e[6]||(e[6]=l=>t.value.outboundReason=l),options:i.reasonOptions,placeholder:"请选择出库原因"},null,8,["value","options"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])}}});export{H as _};
