import{B as j}from"./BasicUpload-DOcuKyX4.js";import{d as w,aY as S,r as q,u as N,a as c,o as R,y as F,h as f,g as e,w as t,j as m,i,t as P,l as T,m as E,B as G,S as H,n as J,k as L,_ as M}from"./index-DxMZejvi.js";import"./componentSetting-CQq0JJwW.js";import"./EyeOutlined-CpPAOxYv.js";import"./DeleteOutlined-BN7K7XMB.js";import"./PlusOutlined-DH-IsLQU.js";const Q={class:"n-layout-page-header"},W={style:{"margin-left":"80px"}},$=w({__name:"index",setup(Z){const g=S(),v={name:{required:!0,message:"请输入预约姓名",trigger:"blur"},remark:{required:!0,message:"请输入预约备注",trigger:"blur"},images:{required:!0,type:"array",message:"请上传病例图片",trigger:"change"}},s=q(null),u=N(),{uploadUrl:b}=g,o=c({name:"",mobile:"",images:["https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"]}),y=c({platform:"miniPrograms",timestamp:new Date().getTime(),token:"Q6fFCuhc1vkKn5JNFWaCLf6gRAc5n0LQHd08dSnG4qo="});function h(){s.value.validate(l=>{l?u.error("验证失败，请填写完整信息"):u.success("验证成功")})}function k(){s.value.restoreValidation()}function x(l){o.images=i(l)}return(l,n)=>{const p=P,_=T,r=E,d=G,C=H,B=J,U=L,V=M;return R(),F("div",null,[f("div",Q,[e(p,{bordered:!1,title:"上传图片"},{default:t(()=>n[3]||(n[3]=[m(" 上传图片，用于向用户收集图片信息 ")])),_:1})]),e(p,{bordered:!1,class:"mt-4 proCard"},{default:t(()=>[e(V,{cols:"2 s:1 m:3 l:3 xl:3 2xl:3",responsive:"screen"},{default:t(()=>[e(U,{offset:"0 s:0 m:1 l:1 xl:1 2xl:1"},{default:t(()=>[e(B,{"label-width":90,model:o,rules:v,"label-placement":"left",ref_key:"formRef",ref:s,class:"py-8"},{default:t(()=>[e(r,{label:"预约姓名",path:"name"},{default:t(()=>[e(_,{value:o.name,"onUpdate:value":n[0]||(n[0]=a=>o.name=a),placeholder:"输入姓名"},null,8,["value"])]),_:1}),e(r,{label:"预约号码",path:"mobile"},{default:t(()=>[e(_,{placeholder:"电话号码",value:o.mobile,"onUpdate:value":n[1]||(n[1]=a=>o.mobile=a)},null,8,["value"])]),_:1}),e(r,{label:"病例图片",path:"images"},{default:t(()=>[e(i(j),{action:`${i(b)}/v1.0/files`,headers:y,data:{type:0},name:"files",width:100,height:100,onUploadChange:x,value:o.images,"onUpdate:value":n[2]||(n[2]=a=>o.images=a),helpText:"单个文件不超过2MB，最多只能上传10个文件"},null,8,["action","headers","value"])]),_:1}),f("div",W,[e(C,null,{default:t(()=>[e(d,{type:"primary",onClick:h},{default:t(()=>n[4]||(n[4]=[m("提交预约")])),_:1}),e(d,{onClick:k},{default:t(()=>n[5]||(n[5]=[m("重置")])),_:1})]),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}}});export{$ as default};
